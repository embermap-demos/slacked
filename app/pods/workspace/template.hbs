<div class='bg-purple text-white w-56'>
  <a {{action (mut isShowingMenu) true}} href=""
    data-tether-id="menu"
    class='pt-4 px-4 pb-2 text-white block no-underline hover:bg-purple-dark group'>

    <div class="flex items-center">
      <div class="text-lg font-black truncate">
        {{model.name}}
      </div>
      <div class='px-1 text-purple-light group-hover:text-white'>
        {{svg-jar 'arrow-down' class='stroke-current w-3 h-3'}}
      </div>
      <div class='ml-auto flex text-purple-light hover:text-white'>
        {{svg-jar 'bell' class='stroke-current w-6 h-6'}}
      </div>
    </div>

    <div class='text-sm pt-1 flex items-center text-purple-light group-hover:text-white'>
      <div class='bg-green-pale h-2 w-2 mr-2 rounded-full'></div>
      samselikoff
    </div>
  </a>

  <ul class='list-reset mt-4'>
    <li>
      {{#ui-link-to 'workspace.threads' as |link|}}
        <a {{action link.transitionTo}}
          href={{link.href}}
          class='
            flex items-center no-underline
            px-4 py-1
            {{if link.isActive
              "bg-green-pale text-white"
              "hover:bg-purple-dark text-purple-lighter"
            }}'
        >
          {{svg-jar 'threads' class='stroke-current w-4 h-4 mr-1'}}
          All Threads
        </a>
      {{/ui-link-to}}
    </li>
  </ul>

  <p class='mt-4 px-4'>
    Channels
  </p>

  <ul class='list-reset mt-1'>
    <li>
      {{#ui-link-to 'workspace.channel' 1 as |link|}}
        <a {{action link.transitionTo}}
          href={{link.href}}
          class='
            flex items-center no-underline
            px-4 py-1
            {{if link.isActive
              "bg-green-pale text-white"
              "hover:bg-purple-dark text-purple-lighter"
            }}'
        >
          {{svg-jar 'hash' class='stroke-current w-4 h-4 mr-1'}}
          general
        </a>
      {{/ui-link-to}}
    </li>
    <li>
      {{#ui-link-to 'workspace.channel' 2 as |link|}}
        <a {{action link.transitionTo}}
          href={{link.href}}
          class='
            flex items-center no-underline
            px-4 py-1
            {{if link.isActive
              "bg-green-pale text-white"
              "hover:bg-purple-dark text-purple-lighter"
            }}'
        >
          {{svg-jar 'hash' class='stroke-current w-4 h-4 mr-1'}}
          github
        </a>
      {{/ui-link-to}}
    </li>
    <li>
      {{#ui-link-to 'workspace.channel' 3 as |link|}}
        <a {{action link.transitionTo}}
          href={{link.href}}
          class='
            flex items-center no-underline
            px-4 py-1
            {{if link.isActive
              "bg-green-pale text-white"
              "hover:bg-purple-dark text-purple-lighter"
            }}'
        >
          {{svg-jar 'hash' class='stroke-current w-4 h-4 mr-1'}}
          questions
        </a>
      {{/ui-link-to}}
    </li>
    <li>
      {{#ui-link-to 'workspace.channel' 4 as |link|}}
        <a {{action link.transitionTo}}
          href={{link.href}}
          class='
            flex items-center no-underline
            px-4 py-1
            {{if link.isActive
              "bg-green-pale text-white"
              "hover:bg-purple-dark text-purple-lighter"
            }}'
        >
          {{svg-jar 'hash' class='stroke-current w-4 h-4 mr-1'}}
          show-and-tell
        </a>
      {{/ui-link-to}}
    </li>
  </ul>
</div>

<div class='flex-grow p-4'>
  {{outlet}}
</div>

{{#if isShowingMenu}}
  {{#modal-dialog animatable=true
    onClose=(action (mut isShowingMenu) false)
    clickOutsideToClose=true
    tetherTarget='[data-tether-id="menu"]'
    attachment='top left'
    targetAttachment='bottom left'}}

    <div class="ml-2 -mt-2">
      <div class="bg-white shadow border rounded w-76 pb-2">
        <div class="pt-6 px-6 pb-2 flex">
          <img class='w-10 h-10 rounded mr-3'
            src="https://pbs.twimg.com/profile_images/854110705527787522/8teNpfCK_400x400.jpg" alt="">
          <div>
            <p class='text-lg font-black'>samselikoff</p>
            <p class='text-sm text-grey-dark pt-1'>Sam Selikoff</p>
          </div>
        </div>

        <ul class='list-reset'>
          <li>
            {{#ui-list-item}}
              Set a status
            {{/ui-list-item}}
          </li>
          <li>
            {{#ui-list-item}}
              Profile & account
            {{/ui-list-item}}
          </li>
          <li>
            {{#ui-list-item}}
              Preferences
            {{/ui-list-item}}
          </li>
          <li>
            {{#ui-list-item}}
              Set yourself to <strong>away</strong>
            {{/ui-list-item}}
          </li>
          <li>
            {{#ui-list-item}}
              Help & feedback
            {{/ui-list-item}}
          </li>
          <li>
            <hr class='my-2 border-b'>
          </li>
        </ul>

        <div class="pt-6 px-6 pb-2 flex">
          <img class='w-10 h-10 rounded mr-3'
            src={{model.iconUrl}} alt="">
          <div>
            <p class='text-lg font-black'>{{model.name}}</p>
            <p class='text-sm text-grey-dark pt-1'>{{model.workspaceUrl}}</p>
          </div>
        </div>

        <ul class='list-reset'>
          <li>
            {{#ui-list-item}}
              Analytics
            {{/ui-list-item}}
          </li>
          <li>
            {{#ui-list-item}}
              Sign out of <strong>{{model.name}}</strong>
            {{/ui-list-item}}
          </li>
          <li>
            <hr class='my-2 border-b'>
          </li>
          <li>
            {{#ui-list-item}}
              Sign in to another workspace...
            {{/ui-list-item}}
          </li>
        </ul>
      </div>
    </div>

  {{/modal-dialog}}
{{/if}}
